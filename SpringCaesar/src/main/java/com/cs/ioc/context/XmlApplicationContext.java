package com.cs.ioc.context;import com.cs.ioc.AbstractBeanFactory;import com.cs.ioc.AutowireCapableBeanFactory;import com.cs.ioc.BeanDefinition;import com.cs.ioc.xml.XmlBeanDefinitionReader;import java.util.Map;/** * @author: demopoo * @Date: Created in 下午4:38 2018/3/22 * @Des: * @Modifyed By: */public class XmlApplicationContext extends AbstractApplicationContext {    private String locationConfig;    public XmlApplicationContext(String locationConfig){        super(new AutowireCapableBeanFactory());        this.locationConfig = locationConfig;    }    @Override    public void refresh() {        XmlBeanDefinitionReader xmlBeanDefinitionReader = new XmlBeanDefinitionReader();        xmlBeanDefinitionReader.loadXmlBeanDefinition("person.xml");        //beanfactory初始化        Map<String,BeanDefinition> map = xmlBeanDefinitionReader.map;        for (Map.Entry<String,BeanDefinition> entry : map.entrySet()){            abstractBeanFactory.registerBeanDefinition(entry.getKey(),entry.getValue());        }        //bean 初始化        abstractBeanFactory.preInstanceSingleton();    }}