import com.cs.ioc.*;import com.cs.ioc.xml.XmlBeanDefinitionReader;import com.cs.pojo.Person;import com.sun.xml.internal.stream.writers.XMLStreamWriterImpl;import org.junit.Test;import java.util.Map;/** * @author: demopoo * @Date: Created in 下午12:52 2018/3/19 * @Des: * @Modifyed By: */public class TestBeanRegister {    @Test    public void register(){        AbstractBeanFactory beanFactory = new AutowireCapableBeanFactory();        XmlBeanDefinitionReader xmlBeanDefinitionReader = new XmlBeanDefinitionReader();        xmlBeanDefinitionReader.loadXmlBeanDefinition("person.xml");        //beanfactory初始化        Map<String,BeanDefinition> map = xmlBeanDefinitionReader.map;        for (Map.Entry<String,BeanDefinition> entry : map.entrySet()){            beanFactory.registerBeanDefinition(entry.getKey(),entry.getValue());        }        //bean 初始化        beanFactory.preInstanceSingleton();        Object o = beanFactory.getBean("person");        System.out.println(o);    }}